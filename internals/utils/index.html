<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Utilities · Bramble.jl</title><meta name="title" content="Utilities · Bramble.jl"/><meta property="og:title" content="Utilities · Bramble.jl"/><meta property="twitter:title" content="Utilities · Bramble.jl"/><meta name="description" content="Documentation for Bramble.jl."/><meta property="og:description" content="Documentation for Bramble.jl."/><meta property="twitter:description" content="Documentation for Bramble.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.svg" alt="Bramble.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">Bramble.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../../examples/poisson_linear/">Linear Poisson equation</a></li><li><a class="tocitem" href="../../examples/poisson_nonlinear/">Nonlinear Poisson equation</a></li></ul></li><li><span class="tocitem">Documentation</span><ul><li><a class="tocitem" href="../../api/">API</a></li><li><input class="collapse-toggle" id="menuitem-3-2" type="checkbox" checked/><label class="tocitem" for="menuitem-3-2"><span class="docs-label">Internals</span><i class="docs-chevron"></i></label><ul class="collapsed"><li class="is-active"><a class="tocitem" href>Utilities</a><ul class="internal"><li><a class="tocitem" href="#Backend"><span>Backend</span></a></li><li><a class="tocitem" href="#Linear-Algebra"><span>Linear Algebra</span></a></li><li><a class="tocitem" href="#Bramble-Function"><span>Bramble Function</span></a></li></ul></li><li><a class="tocitem" href="../geometry/">Geometry</a></li><li><a class="tocitem" href="../mesh/">Mesh</a></li><li><a class="tocitem" href="../space/">Spaces</a></li><li><a class="tocitem" href="../form/">Forms</a></li></ul></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Documentation</a></li><li><a class="is-disabled">Internals</a></li><li class="is-active"><a href>Utilities</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Utilities</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/gpena/Bramble.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/gpena/Bramble.jl/blob/main/docs/src/internals/utils.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Utilities"><a class="docs-heading-anchor" href="#Utilities">Utilities</a><a id="Utilities-1"></a><a class="docs-heading-anchor-permalink" href="#Utilities" title="Permalink"></a></h1><h2 id="Backend"><a class="docs-heading-anchor" href="#Backend">Backend</a><a id="Backend-1"></a><a class="docs-heading-anchor-permalink" href="#Backend" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Bramble.Backend" href="#Bramble.Backend"><code>Bramble.Backend</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct Backend{VT&lt;:AbstractVector,MT&lt;:AbstractMatrix}</code></pre><p>A structure containing types and configuration for backend linear algebra objects. This structure has no fields, only types.</p><p>This allows specifying the desired concrete types for vectors and matrices (e.g., dense <code>Vector</code>, sparse <code>SparseVector</code>, different element types like <code>Float32</code> or <code>Float64</code>).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gpena/Bramble.jl/blob/5de7d5ba2f4ce995fbe2320bf8ba5b77af1fa071/src/utils/backend.jl#L1-L9">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.eltype-Union{Tuple{Bramble.Backend{VT, MT}}, Tuple{MT}, Tuple{VT}} where {VT, MT}" href="#Base.eltype-Union{Tuple{Bramble.Backend{VT, MT}}, Tuple{MT}, Tuple{VT}} where {VT, MT}"><code>Base.eltype</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">eltype(backend::Backend)</code></pre><p>Returns the element type of the vector type (<code>VT</code>) used in the given <a href="#Backend">Backend</a> type or instance. This function allows querying the underlying element type stored in the backend&#39;s vector representation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gpena/Bramble.jl/blob/5de7d5ba2f4ce995fbe2320bf8ba5b77af1fa071/src/utils/backend.jl#L138-L143">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Bramble.backend-Tuple{}" href="#Bramble.backend-Tuple{}"><code>Bramble.backend</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">backend(; vector_type, matrix_type)
</code></pre><p>Create a linear algebra <a href="#Backend">Backend</a> using keyword arguments.</p><p>Defaults to standard dense <code>Float64</code> vectors and <code>SparseMatrixCSC</code> matrices, ensuring the provided <code>vector_type</code> and <code>matrix_type</code> are constructible with the intended dimensions via standard patterns like <code>T(undef, dims...)</code> or <code>T(dims...)</code>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; dense_sparse = backend() # Default backend (Dense-Sparse Float64)

julia&gt; using SparseArrays;
	   SVec{T} = SparseVector{T,Int};
	   SMat{T} = SparseMatrixCSC{T,Int};
	   T64 = Float64

julia&gt; sparse_sparse = backend(vector_type = SVec{T64}, matrix_type = SMat{T64}) # Sparse-Sparse Float64 backend

julia&gt; T32 = Float32;
	   dense32 = backend(vector_type = Vector{T32}, matrix_type = SMat{T32}) # Dense-Sparse Float32 backend
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gpena/Bramble.jl/blob/5de7d5ba2f4ce995fbe2320bf8ba5b77af1fa071/src/utils/backend.jl#L30-L55">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Bramble.backend_eye-Tuple{Bramble.Backend, Any}" href="#Bramble.backend_eye-Tuple{Bramble.Backend, Any}"><code>Bramble.backend_eye</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">backend_eye(backend::Backend, n)</code></pre><p>Constructs a square <code>n</code> x <code>n</code> sparse identity matrix associated with the given <a href="#Backend">Backend</a> instance.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gpena/Bramble.jl/blob/5de7d5ba2f4ce995fbe2320bf8ba5b77af1fa071/src/utils/backend.jl#L122-L126">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Bramble.backend_types-Union{Tuple{Bramble.Backend{VT, MT}}, Tuple{MT}, Tuple{VT}} where {VT, MT}" href="#Bramble.backend_types-Union{Tuple{Bramble.Backend{VT, MT}}, Tuple{MT}, Tuple{VT}} where {VT, MT}"><code>Bramble.backend_types</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">backend_types(backend::Backend)</code></pre><p>Returns a tuple with the backend associated types:</p><ul><li>the element type of <code>VT</code>,</li><li>the type <code>VT</code>,</li><li>the type <code>MT</code>,</li><li>the concrete backend type <code>Backend{VT,MT}</code>.</li></ul><p>This is useful for extracting type information from either a <a href="#Backend">Backend</a> type or instance.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gpena/Bramble.jl/blob/5de7d5ba2f4ce995fbe2320bf8ba5b77af1fa071/src/utils/backend.jl#L58-L69">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Bramble.backend_zeros-Tuple{Bramble.Backend, Any}" href="#Bramble.backend_zeros-Tuple{Bramble.Backend, Any}"><code>Bramble.backend_zeros</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">backend_zeros(backend::Backend, n)</code></pre><p>Constructs a square <code>n</code> x <code>n</code> sparse matrix of zeros associated with the given <a href="#Backend">Backend</a> instance.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gpena/Bramble.jl/blob/5de7d5ba2f4ce995fbe2320bf8ba5b77af1fa071/src/utils/backend.jl#L130-L134">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Bramble.matrix-Tuple{Bramble.Backend, Integer, Integer}" href="#Bramble.matrix-Tuple{Bramble.Backend, Integer, Integer}"><code>Bramble.matrix</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">matrix(backend::Backend, n::Integer, m::Integer)</code></pre><p>Create a matrix of the type <code>MT</code> associated with the given <a href="#Backend">Backend</a> instance with dimensions <code>n</code> x <code>m</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gpena/Bramble.jl/blob/5de7d5ba2f4ce995fbe2320bf8ba5b77af1fa071/src/utils/backend.jl#L100-L104">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Bramble.matrix_type-Union{Tuple{Bramble.Backend{VT, MT}}, Tuple{MT}, Tuple{VT}} where {VT, MT}" href="#Bramble.matrix_type-Union{Tuple{Bramble.Backend{VT, MT}}, Tuple{MT}, Tuple{VT}} where {VT, MT}"><code>Bramble.matrix_type</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">matrix_type(backend::Backend)</code></pre><p>Returns the matrix type (<code>MT</code>) associated with the given <a href="#Backend">Backend</a> instance or type. This function is useful for extracting the underlying matrix type used by a specific backend.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gpena/Bramble.jl/blob/5de7d5ba2f4ce995fbe2320bf8ba5b77af1fa071/src/utils/backend.jl#L21-L26">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Bramble.vector_type-Union{Tuple{Bramble.Backend{VT, MT}}, Tuple{MT}, Tuple{VT}} where {VT, MT}" href="#Bramble.vector_type-Union{Tuple{Bramble.Backend{VT, MT}}, Tuple{MT}, Tuple{VT}} where {VT, MT}"><code>Bramble.vector_type</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">vector_type(backend::Backend)</code></pre><p>Returns the vector type (<code>VT</code>) associated with the given <a href="#Backend">Backend</a> instance or type. This function is useful for extracting the underlying vector type used by a specific backend.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gpena/Bramble.jl/blob/5de7d5ba2f4ce995fbe2320bf8ba5b77af1fa071/src/utils/backend.jl#L12-L17">source</a></section></article><h2 id="Linear-Algebra"><a class="docs-heading-anchor" href="#Linear-Algebra">Linear Algebra</a><a id="Linear-Algebra-1"></a><a class="docs-heading-anchor-permalink" href="#Linear-Algebra" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Bramble._dot-Union{Tuple{VT}, Tuple{T}, Tuple{VT, VT, VT}} where {T, VT&lt;:AbstractVector{T}}" href="#Bramble._dot-Union{Tuple{VT}, Tuple{T}, Tuple{VT, VT, VT}} where {T, VT&lt;:AbstractVector{T}}"><code>Bramble._dot</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">_dot(u, v, w)
</code></pre><p>Computes the element-wise product of three vectors <code>u</code>, <code>v</code>, and <code>w</code> and sums the results. This is equivalent to the mathematical operation <code>∑ᵢ uᵢ * vᵢ * wᵢ</code>. It is used as an optimized implementation for the weighted inner product of vectors.</p><p>The <code>@fastmath</code> macro allows for aggressive floating-point optimizations, and <code>@simd</code> instructs the compiler to vectorize the loop if possible.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gpena/Bramble.jl/blob/5de7d5ba2f4ce995fbe2320bf8ba5b77af1fa071/src/utils/linear_algebra.jl#L49-L58">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Bramble._parallel_for!-Tuple{Any, Any, Any}" href="#Bramble._parallel_for!-Tuple{Any, Any, Any}"><code>Bramble._parallel_for!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">_parallel_for!(v, idxs, f)
</code></pre><p>Parallel implementation of a for loop that modifies array <code>v</code> in-place.</p><p><strong>Arguments</strong></p><ul><li><code>v</code>: Array to be modified in-place</li><li><code>idxs</code>: Iterable of indices to process</li><li><code>f</code>: Function that takes an index and returns the value to be stored at that index</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gpena/Bramble.jl/blob/5de7d5ba2f4ce995fbe2320bf8ba5b77af1fa071/src/utils/linear_algebra.jl#L1-L11">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Bramble._serial_for!-Tuple{Any, Any, Any}" href="#Bramble._serial_for!-Tuple{Any, Any, Any}"><code>Bramble._serial_for!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">_serial_for!(v, idxs, f)
</code></pre><p>Performs a serial (non-parallel) iteration over the specified indices, applying a function <code>f</code> to modify vector <code>v</code> in-place.</p><p><strong>Arguments</strong></p><ul><li><code>v</code>: Vector to be modified in-place</li><li><code>idxs</code>: Indices to iterate over</li><li><code>f</code>: Function to be applied at each index</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gpena/Bramble.jl/blob/5de7d5ba2f4ce995fbe2320bf8ba5b77af1fa071/src/utils/linear_algebra.jl#L23-L33">source</a></section></article><h2 id="Bramble-Function"><a class="docs-heading-anchor" href="#Bramble-Function">Bramble Function</a><a id="Bramble-Function-1"></a><a class="docs-heading-anchor-permalink" href="#Bramble-Function" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Bramble.BrambleFunction" href="#Bramble.BrambleFunction"><code>Bramble.BrambleFunction</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct BrambleFunction{ArgsType, hastime, CoType, DType}</code></pre><p>Internal structure to wrap around functions to make them more type agnostic. It uses <code>FunctionWrappers.jl</code> wrap functions.</p><p><strong>Fields</strong></p><ul><li><p><code>wrapped</code>: a <code>FunctionWrapper</code> wrapper for the function</p></li><li><p><code>domain</code>: domain of the function; the standard is a <a href="../geometry/#Bramble.CartesianProduct">CartesianProduct</a></p></li></ul><p>to provide functions calculated on <code>ArgsType</code>. The type arguments are <code>hastime</code> to indicate if the function is time-dependent and <code>CoType</code>, the time of the codomain of the function. It also stores the type of domain of the space part of the function (<a href="../geometry/#Bramble.CartesianProduct">CartesianProduct</a>)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gpena/Bramble.jl/blob/5de7d5ba2f4ce995fbe2320bf8ba5b77af1fa071/src/utils/bramble_function.jl#L1-L11">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Bramble._embed_notime-Tuple{Any, Any}" href="#Bramble._embed_notime-Tuple{Any, Any}"><code>Bramble._embed_notime</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">_embed_notime(X, f; CoType)
</code></pre><p>A convenience constructor for creating a time-independent (<code>hastime=false</code>) <a href="#Bramble.BrambleFunction">BrambleFunction</a>. It&#39;s a simplified wrapper around <a href="#Bramble.bramble_function_with_domain-NTuple{4, Any}"><code>bramble_function_with_domain</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gpena/Bramble.jl/blob/5de7d5ba2f4ce995fbe2320bf8ba5b77af1fa071/src/utils/bramble_function.jl#L73-L78">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Bramble._embed_withtime-Tuple{Any, Bramble.CartesianProduct{1}, Any}" href="#Bramble._embed_withtime-Tuple{Any, Bramble.CartesianProduct{1}, Any}"><code>Bramble._embed_withtime</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">_embed_withtime(space_domain, time_domain, f; FinalCoType)
</code></pre><p>Internal implementation for embedding a time-dependent function <code>f(x, t)</code>. When this function is called with a specific time <code>t_val</code>, it returns another space-only <a href="#Bramble.BrambleFunction">BrambleFunction</a>, which represents the spatial function <code>f(x, t_val)</code> at that fixed time.</p><p><strong>Arguments</strong></p><ul><li><code>space_domain</code>: The spatial domain (CartesianProduct)</li><li><code>time_domain</code>: The time domain (1D CartesianProduct)</li><li><code>f</code>: A function <code>f(x, t)</code> that takes spatial and time coordinates</li><li><code>FinalCoType</code>: The return type of <code>f</code> (optional, defaults to element type of time domain)</li></ul><p><strong>Returns</strong></p><p>A <code>BrambleFunction{ArgType,true,CoType,typeof(time_domain)}</code> where calling it with time <code>t</code> returns a space-only <code>BrambleFunction</code>.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">Ω = interval(0.0, 1.0)
I = interval(0.0, 10.0)
f(x, t) = sin(x * t)
bf = _embed_withtime(Ω, I, f)
bf_at_t5 = bf(5.0)  # Returns BrambleFunction for f(x, 5.0)
bf_at_t5(0.5)       # Evaluates sin(0.5 * 5.0)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gpena/Bramble.jl/blob/5de7d5ba2f4ce995fbe2320bf8ba5b77af1fa071/src/utils/bramble_function.jl#L149-L175">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Bramble._get_args_type-Tuple{Any}" href="#Bramble._get_args_type-Tuple{Any}"><code>Bramble._get_args_type</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">_get_args_type(X)
</code></pre><p>Internal helper to determine the expected argument type for a function based on a domain <code>X</code>.</p><ul><li>If the domain is 1D (e.g., a line), the argument type is a scalar <code>T</code>.</li><li>If the domain is D-dimensional, the argument type is an <code>NTuple{D,T}</code>.</li><li><code>T</code> is the element type of the domain <code>X</code>.</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs">X_1d = interval(0.0, 1.0)  # D=1, T=Float64
_get_args_type(X_1d)  # Returns Float64

X_2d = interval(0.0, 1.0) × interval(0.0, 1.0)  # D=2, T=Float64  
_get_args_type(X_2d)  # Returns NTuple{2,Float64}</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gpena/Bramble.jl/blob/5de7d5ba2f4ce995fbe2320bf8ba5b77af1fa071/src/utils/bramble_function.jl#L28-L46">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Bramble._get_domains-Tuple{Any}" href="#Bramble._get_domains-Tuple{Any}"><code>Bramble._get_domains</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">_get_domains(domain_spec)
</code></pre><p>Parses a domain specification, which can be:</p><ul><li>A Symbol representing a spatial domain (e.g., :Ω).</li><li>An Expr representing the product of space and time domains (e.g., :(Ω × I)).</li></ul><p>Returns a tuple <code>(space_domain_expr, time_domain_expr)</code>, where <code>time_domain_expr</code> is <code>nothing</code> if no time domain is specified.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gpena/Bramble.jl/blob/5de7d5ba2f4ce995fbe2320bf8ba5b77af1fa071/src/utils/bramble_function.jl#L81-L90">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Bramble.argstype-Union{Tuple{FunctionWrappers.FunctionWrapper{CoType, Tuple{ArgsType}}}, Tuple{ArgsType}, Tuple{CoType}} where {CoType, ArgsType}" href="#Bramble.argstype-Union{Tuple{FunctionWrappers.FunctionWrapper{CoType, Tuple{ArgsType}}}, Tuple{ArgsType}, Tuple{CoType}} where {CoType, ArgsType}"><code>Bramble.argstype</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">argstype(f::FunctionWrapper{CoType,Tuple{ArgsType}})</code></pre><p>Extracts the argument type <code>ArgsType</code> from a <code>FunctionWrapper</code> instance or type.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gpena/Bramble.jl/blob/5de7d5ba2f4ce995fbe2320bf8ba5b77af1fa071/src/utils/bramble_function.jl#L190-L194">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Bramble.bramble_function_with_domain-NTuple{4, Any}" href="#Bramble.bramble_function_with_domain-NTuple{4, Any}"><code>Bramble.bramble_function_with_domain</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">bramble_function_with_domain(f, X, hastime, CoType; domain)
</code></pre><p>A low-level constructor for creating a <code>BrambleFunction</code>. It wraps a given Julia function <code>f</code> into a <code>FunctionWrapper</code> and bundles it with its domain.</p><p><strong>Arguments</strong></p><ul><li><code>f</code>: The function to wrap.</li><li><code>X</code>: The spatial domain used to infer the argument type of <code>f</code>.</li><li><code>hastime</code>: A boolean indicating if the function is time-dependent.</li><li><code>CoType</code>: The codomain (return) type of the function <code>f</code>.</li><li><code>domain</code>: The actual domain object to store in the struct (typically <code>X</code>).</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gpena/Bramble.jl/blob/5de7d5ba2f4ce995fbe2320bf8ba5b77af1fa071/src/utils/bramble_function.jl#L53-L66">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Bramble.codomaintype-Union{Tuple{FunctionWrappers.FunctionWrapper{CoType, Tuple{ArgsType}}}, Tuple{ArgsType}, Tuple{CoType}} where {CoType, ArgsType}" href="#Bramble.codomaintype-Union{Tuple{FunctionWrappers.FunctionWrapper{CoType, Tuple{ArgsType}}}, Tuple{ArgsType}, Tuple{CoType}} where {CoType, ArgsType}"><code>Bramble.codomaintype</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">codomaintype(f::FunctionWrapper{CoType})</code></pre><p>Extracts the codomain type <code>CoType</code> from a <code>FunctionWrapper</code> instance or type.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gpena/Bramble.jl/blob/5de7d5ba2f4ce995fbe2320bf8ba5b77af1fa071/src/utils/bramble_function.jl#L200-L204">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Bramble.embed_function-Tuple{Any, Any}" href="#Bramble.embed_function-Tuple{Any, Any}"><code>Bramble.embed_function</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">embed_function(space_domain, [time_domain], func)</code></pre><p>Creates a <a href="#Bramble.BrambleFunction">BrambleFunction</a> for a function <code>func</code> defined over <code>space_domain</code>. If <code>time_domain</code> is provided, it creates a <a href="#Bramble.BrambleFunction">BrambleFunction</a> for a time-dependent function <code>func(x, t)</code> defined over <code>space_domain × time_domain</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gpena/Bramble.jl/blob/5de7d5ba2f4ce995fbe2320bf8ba5b77af1fa071/src/utils/bramble_function.jl#L140-L144">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Bramble.has_time-Union{Tuple{Bramble.BrambleFunction{ArgsType, hastime}}, Tuple{hastime}, Tuple{ArgsType}} where {ArgsType, hastime}" href="#Bramble.has_time-Union{Tuple{Bramble.BrambleFunction{ArgsType, hastime}}, Tuple{hastime}, Tuple{ArgsType}} where {ArgsType, hastime}"><code>Bramble.has_time</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">has_time(f::BrambleFunction)</code></pre><p>Checks if a <a href="#Bramble.BrambleFunction">BrambleFunction</a> is time-dependent by inspecting its <code>hastime</code> type parameter. Returns <code>true</code> if the function is time-dependent, <code>false</code> otherwise.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/gpena/Bramble.jl/blob/5de7d5ba2f4ce995fbe2320bf8ba5b77af1fa071/src/utils/bramble_function.jl#L19-L24">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../api/">« API</a><a class="docs-footer-nextpage" href="../geometry/">Geometry »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.15.0 on <span class="colophon-date" title="Thursday 13 November 2025 11:45">Thursday 13 November 2025</span>. Using Julia version 1.12.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
